(function(L,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(L=typeof globalThis<"u"?globalThis:L||self,e(L.VueLunarCalendar={},L.Vue))})(this,function(L,e){"use strict";var wa=Object.defineProperty;var Sa=(L,e,Q)=>e in L?wa(L,e,{enumerable:!0,configurable:!0,writable:!0,value:Q}):L[e]=Q;var J=(L,e,Q)=>(Sa(L,typeof e!="symbol"?e+"":e,Q),Q);const Q=["aria-label","aria-selected","aria-disabled","tabindex"],Ee={class:"cell-date"},Te={class:"solar-date"},Ce={key:0,class:"lunar-date"},Ye={key:0,class:"lunar-info"},$e={key:0,class:"lunar-month"},Be=["title"],Ne={key:1,class:"festival-info"},Fe=["title"],_e=["title"],Le={key:2,class:"events-container"},je=["title","onClick"],Ve={class:"event-title"},ze={key:0,class:"more-events"},qe=["title"],Ie=["title"],Re={key:5,class:"custom-content"},Ze={key:6,class:"selection-indicator"},Ae={key:7,class:"today-indicator"},Oe=e.defineComponent({__name:"CalendarCell",props:{date:{},events:{default:()=>[]},selected:{type:Boolean,default:!1},inRange:{type:Boolean,default:!1},rangeStart:{type:Boolean,default:!1},rangeEnd:{type:Boolean,default:!1},today:{type:Boolean,default:!1},otherMonth:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showLunar:{type:Boolean,default:!0},showFestivals:{type:Boolean,default:!0},showTerms:{type:Boolean,default:!0},locale:{}},emits:["click","dblclick","contextmenu","mouseenter","eventClick"],setup(a,{emit:s}){const t=a,o=s,r=e.computed(()=>t.date.week===0||t.date.week===6),i=e.computed(()=>t.events.some(g=>g.type==="holiday")),h=e.computed(()=>t.events.length>0),k=e.computed(()=>t.events.slice(0,3)),m=e.computed(()=>Math.max(0,t.events.length-3)),v=e.computed(()=>!t.showFestivals||!t.date.festival?"":t.date.festival.split(" ").filter(V=>V.trim())[0]||""),w=e.computed(()=>{const g=[`${t.date.sYear}年${t.date.sMonth}月${t.date.sDay}日`,t.date.weekZH];return t.showLunar&&t.date.lDayZH&&g.push(`农历${t.date.lDayZH}`),t.today&&g.push("今天"),t.selected&&g.push("已选择"),t.disabled&&g.push("不可选择"),v.value&&g.push(v.value),t.date.term&&g.push(t.date.term),h.value&&g.push(`${t.events.length}个事件`),g.join(", ")}),b=()=>{t.disabled||o("click",t.date)},C=()=>{t.disabled||o("dblclick",t.date)},_=g=>{t.disabled||(g.preventDefault(),o("contextmenu",t.date,g))},j=()=>{t.disabled||o("mouseenter",t.date)},E=g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),b())},$=g=>({白羊座:"♈",金牛座:"♉",双子座:"♊",巨蟹座:"♋",狮子座:"♌",处女座:"♍",天秤座:"♎",天蝎座:"♏",射手座:"♐",摩羯座:"♑",水瓶座:"♒",双鱼座:"♓"})[g]||"",z=g=>({鼠:"🐭",牛:"🐮",虎:"🐯",兔:"🐰",龙:"🐲",蛇:"🐍",马:"🐴",羊:"🐑",猴:"🐵",鸡:"🐔",狗:"🐶",猪:"🐷"})[g]||"";return(g,V)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["calendar-cell",{"is-selected":g.selected,"is-today":g.today,"is-other-month":g.otherMonth,"is-disabled":g.disabled,"is-weekend":r.value,"is-holiday":i.value,"is-in-range":g.inRange,"is-range-start":g.rangeStart,"is-range-end":g.rangeEnd,"has-events":h.value}]),"aria-label":w.value,"aria-selected":g.selected,"aria-disabled":g.disabled,tabindex:g.disabled?-1:0,onClick:b,onDblclick:C,onContextmenu:_,onMouseenter:j,onKeydown:E},[e.createElementVNode("div",Ee,[e.createElementVNode("span",Te,e.toDisplayString(g.date.sDay),1),g.showLunar&&g.date.lDayZH?(e.openBlock(),e.createElementBlock("span",Ce,e.toDisplayString(g.date.lDayZH),1)):e.createCommentVNode("",!0)]),g.showLunar?(e.openBlock(),e.createElementBlock("div",Ye,[g.date.lMonthZH&&g.date.lDay===1?(e.openBlock(),e.createElementBlock("span",$e,e.toDisplayString(g.date.lMonthZH),1)):e.createCommentVNode("",!0),g.date.gzDayZH?(e.openBlock(),e.createElementBlock("span",{key:1,class:"ganzhi",title:`${g.date.gzYearZH}年 ${g.date.gzMonthZH}月 ${g.date.gzDayZH}日`},e.toDisplayString(g.date.gzDayZH),9,Be)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),g.showFestivals||g.showTerms?(e.openBlock(),e.createElementBlock("div",Ne,[g.showTerms&&g.date.term?(e.openBlock(),e.createElementBlock("span",{key:0,class:"term",title:g.date.term},e.toDisplayString(g.date.term),9,Fe)):e.createCommentVNode("",!0),g.showFestivals&&v.value?(e.openBlock(),e.createElementBlock("span",{key:1,class:"festival",title:v.value},e.toDisplayString(v.value),9,_e)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),h.value?(e.openBlock(),e.createElementBlock("div",Le,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,B=>(e.openBlock(),e.createElementBlock("div",{key:B.id,class:e.normalizeClass(["event-dot",`event-${B.type}`]),style:e.normalizeStyle({backgroundColor:B.color}),title:B.title,onClick:e.withModifiers(R=>o("eventClick",B),["stop"])},[e.renderSlot(g.$slots,"event",{event:B},()=>[e.createElementVNode("span",Ve,e.toDisplayString(B.title),1)],!0)],14,je))),128)),m.value>0?(e.openBlock(),e.createElementBlock("div",ze," +"+e.toDisplayString(m.value),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),g.date.zodiac?(e.openBlock(),e.createElementBlock("div",{key:3,class:"zodiac",title:g.date.zodiac},e.toDisplayString($(g.date.zodiac)),9,qe)):e.createCommentVNode("",!0),g.date.animal?(e.openBlock(),e.createElementBlock("div",{key:4,class:"animal",title:`${g.date.animal}年`},e.toDisplayString(z(g.date.animal)),9,Ie)):e.createCommentVNode("",!0),g.$slots.default?(e.openBlock(),e.createElementBlock("div",Re,[e.renderSlot(g.$slots,"default",{date:g.date,events:g.events},void 0,!0)])):e.createCommentVNode("",!0),g.selected?(e.openBlock(),e.createElementBlock("div",Ze)):e.createCommentVNode("",!0),g.today?(e.openBlock(),e.createElementBlock("div",Ae)):e.createCommentVNode("",!0)],42,Q))}}),Ea="",ae=(a,s)=>{const t=a.__vccOpts||a;for(const[o,r]of s)t[o]=r;return t},fe=ae(Oe,[["__scopeId","data-v-2f72cd97"]]),He={class:"event-header"},Pe={key:0,class:"event-time"},Je={key:0},Ke={class:"event-content"},xe={class:"event-title"},We={key:0,class:"event-description"},Ue={key:0,class:"event-reminders"},Ge={class:"reminder-count"},Qe={key:1,class:"event-recurring"},Xe={class:"recurring-text"},et=e.defineComponent({__name:"EventItem",props:{event:{}},emits:["click"],setup(a){const s=r=>r,t=r=>({event:"事件",reminder:"提醒",holiday:"节日",custom:"自定义"})[r]||r,o=r=>{const h={daily:"每日",weekly:"每周",monthly:"每月",yearly:"每年"}[r.type]||r.type;return`${r.interval>1?`每${r.interval}`:""}${h}重复`};return(r,i)=>{var h;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["event-item",`event-${r.event.type}`,{"is-all-day":!r.event.startTime,"is-recurring":r.event.recurring}]),style:e.normalizeStyle({borderLeftColor:r.event.color}),onClick:i[0]||(i[0]=k=>r.$emit("click",r.event))},[e.createElementVNode("div",He,[r.event.startTime?(e.openBlock(),e.createElementBlock("div",Pe,[e.createTextVNode(e.toDisplayString(s(r.event.startTime))+" ",1),r.event.endTime?(e.openBlock(),e.createElementBlock("span",Je," - "+e.toDisplayString(s(r.event.endTime)),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"event-type-badge",style:e.normalizeStyle({backgroundColor:r.event.color})},e.toDisplayString(t(r.event.type)),5)]),e.createElementVNode("div",Ke,[e.createElementVNode("h4",xe,e.toDisplayString(r.event.title),1),r.event.description?(e.openBlock(),e.createElementBlock("p",We,e.toDisplayString(r.event.description),1)):e.createCommentVNode("",!0)]),(h=r.event.reminders)!=null&&h.length?(e.openBlock(),e.createElementBlock("div",Ue,[i[1]||(i[1]=e.createElementVNode("span",{class:"reminder-icon"},"🔔",-1)),e.createElementVNode("span",Ge,e.toDisplayString(r.event.reminders.length)+"个提醒",1)])):e.createCommentVNode("",!0),r.event.recurring?(e.openBlock(),e.createElementBlock("div",Qe,[i[2]||(i[2]=e.createElementVNode("span",{class:"recurring-icon"},"🔄",-1)),e.createElementVNode("span",Xe,e.toDisplayString(o(r.event.recurring)),1)])):e.createCommentVNode("",!0)],6)}}}),Ta="",ge=ae(et,[["__scopeId","data-v-30a4fd79"]]),tt={class:"calendar-header"},at={class:"calendar-nav"},nt=["disabled","aria-label"],lt=["disabled","aria-label"],ot={class:"date-selector"},rt=["disabled"],st=["value"],it=["disabled"],ct=["value"],dt=["disabled","aria-label"],ut=["disabled","aria-label"],mt={class:"calendar-actions"},ft=["disabled"],gt=["disabled"],ht={class:"calendar-weekdays"},kt={key:0,class:"event-panel"},pt={class:"event-list"},yt={key:1,class:"calendar-sidebar"},vt=e.defineComponent({__name:"VueLunarCalendar",props:{modelValue:{},mode:{default:"single"},locale:{default:"zh-CN"},theme:{default:"light"},showLunar:{type:Boolean,default:!0},showFestivals:{type:Boolean,default:!0},showTerms:{type:Boolean,default:!0},showWeekNumbers:{type:Boolean,default:!1},firstDayOfWeek:{default:1},selectable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean},events:{default:()=>[]},holidays:{default:()=>({})},minDate:{},maxDate:{},disabledDates:{}},emits:["update:modelValue","select","dblclick","contextmenu","yearChange","monthChange","eventClick"],setup(a,{emit:s}){const t=()=>"‹",o=()=>"›",r=()=>"«",i=()=>"»",h=()=>"☀",k=()=>"🌙",m=a,v=s,w=e.useSlots(),b=e.ref(new Date().getFullYear()),C=e.ref(new Date().getMonth()+1),_=e.ref(null),j=e.ref([]),E=e.ref(null),$=e.ref(null),z=e.ref(m.theme||"light"),g=e.computed(()=>{const d=[],F=b.value,S=C.value,U=new Date(F,S,0).getDate();for(let G=1;G<=U;G++){const Ma=new Date(F,S-1,G).toISOString().split("T")[0];d.push({date:Ma,sDay:G,sYear:F,sMonth:S,lunarDay:`${G}`,lMonth:S,lDay:G,isLeapMonth:!1,gzYear:"",gzMonth:"",gzDay:"",animal:"",term:"",festival:"",lunarFestival:"",worktime:0})}return d}),V=e.computed(()=>({"--primary-color":(z.value==="dark","#1976d2")})),B=e.computed(()=>{const d={"zh-CN":{prevYear:"上一年",nextYear:"下一年",prevMonth:"上个月",nextMonth:"下个月",today:"今天",clear:"清除",months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],weekdays:["日","一","二","三","四","五","六"]},"en-US":{prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",today:"Today",clear:"Clear",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}};return d[m.locale]||d["zh-CN"]}),R=e.computed(()=>B.value.weekdays),I=()=>{const d=new Date;b.value=d.getFullYear(),C.value=d.getMonth()+1},y=()=>{b.value--},Y=()=>{b.value++},n=()=>{C.value===1?(C.value=12,b.value--):C.value--},f=()=>{C.value===12?(C.value=1,b.value++):C.value++},T=()=>{z.value=z.value==="light"?"dark":"light"},c=d=>`${d}年`,p=d=>{var F;return((F=m.events)==null?void 0:F.filter(S=>S.date===d))||[]},l=d=>{v("eventClick",d)},u=d=>m.selectionMode==="single"?_.value===d:m.selectionMode==="multiple"?j.value.includes(d):m.selectionMode==="range"?d===E.value||d===$.value:!1,D=d=>m.selectionMode!=="range"||!E.value||!$.value?!1:d>E.value&&d<$.value,M=d=>m.selectionMode==="range"&&d===E.value,O=d=>m.selectionMode==="range"&&d===$.value,W=d=>{if(!Se(d.date)){if(m.selectionMode==="single")_.value=d.date,v("update:modelValue",d.date),v("select",d.date,d);else if(m.selectionMode==="multiple"){const F=j.value.indexOf(d.date);F>-1?j.value.splice(F,1):j.value.push(d.date),v("update:modelValue",[...j.value]),v("select",d.date,d)}else if(m.selectionMode==="range"){if(!E.value||E.value&&$.value)E.value=d.date,$.value=null;else if(E.value&&!$.value){d.date<E.value?($.value=E.value,E.value=d.date):$.value=d.date;const F={start:E.value,end:$.value};v("update:modelValue",F),v("rangeSelect",F)}}}},N=()=>{_.value=null,j.value=[],E.value=null,$.value=null,v("update:modelValue",null)},Z=()=>{},oe=()=>{},me=()=>{},ma=()=>{},fa=()=>{},ga=d=>{v("dblclick",d.date,d)},ha=(d,F)=>{F.preventDefault(),v("contextmenu",d.date,d,F)},ka=e.computed(()=>{const d=m.minDate?new Date(m.minDate).getFullYear():1900,F=m.maxDate?new Date(m.maxDate).getFullYear():2100,S=[];for(let H=d;H<=F;H++)S.push(H);return S}),pa=d=>{const F=new Date,S=new Date(d);return F.getFullYear()===S.getFullYear()&&F.getMonth()===S.getMonth()&&F.getDate()===S.getDate()},ya=d=>d.sMonth!==C.value,Se=d=>m.disabled||m.minDate&&d<m.minDate||m.maxDate&&d>m.maxDate?!0:Array.isArray(m.disabledDates)?m.disabledDates.includes(d):typeof m.disabledDates=="function"?m.disabledDates(d):!1,va=d=>new Date(d).toLocaleDateString(m.locale),Da=()=>{v("yearChange",b.value)},ba=()=>{v("monthChange",b.value,C.value)};return e.watch(()=>m.modelValue,d=>{m.selectionMode==="single"?_.value=d||null:m.selectionMode==="multiple"?j.value=Array.isArray(d)?d:[]:m.selectionMode==="range"&&(d&&typeof d=="object"&&"start"in d&&"end"in d?(E.value=d.start,$.value=d.end):(E.value=null,$.value=null))},{immediate:!0}),e.onMounted(()=>{}),(d,F)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vue-lunar-calendar",`theme-${z.value}`,{"is-range":d.mode==="range","is-multiple":d.mode==="multiple","is-readonly":d.readonly,"is-disabled":d.disabled}]),style:e.normalizeStyle(V.value)},[e.createElementVNode("div",tt,[e.createElementVNode("div",at,[e.createElementVNode("button",{class:"nav-btn",onClick:y,disabled:d.disabled,"aria-label":B.value.prevYear},[e.createVNode(r)],8,nt),e.createElementVNode("button",{class:"nav-btn",onClick:n,disabled:d.disabled,"aria-label":B.value.prevMonth},[e.createVNode(t)],8,lt),e.createElementVNode("div",ot,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":F[0]||(F[0]=S=>b.value=S),onChange:Da,disabled:d.disabled,class:"year-select"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ka.value,S=>(e.openBlock(),e.createElementBlock("option",{key:S,value:S},e.toDisplayString(c(S)),9,st))),128))],40,rt),[[e.vModelSelect,b.value]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":F[1]||(F[1]=S=>C.value=S),onChange:ba,disabled:d.disabled,class:"month-select"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value.months,(S,H)=>(e.openBlock(),e.createElementBlock("option",{key:H,value:H+1},e.toDisplayString(S),9,ct))),128))],40,it),[[e.vModelSelect,C.value]])]),e.createElementVNode("button",{class:"nav-btn",onClick:f,disabled:d.disabled,"aria-label":B.value.nextMonth},[e.createVNode(o)],8,dt),e.createElementVNode("button",{class:"nav-btn",onClick:Y,disabled:d.disabled,"aria-label":B.value.nextYear},[e.createVNode(i)],8,ut)]),e.createElementVNode("div",mt,[d.readonly?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,class:"action-btn today-btn",onClick:I,disabled:d.disabled},e.toDisplayString(B.value.today),9,ft)),d.clearable&&d.modelValue?(e.openBlock(),e.createElementBlock("button",{key:1,class:"action-btn clear-btn",onClick:N,disabled:d.disabled},e.toDisplayString(B.value.clear),9,gt)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"action-btn theme-toggle",onClick:T,"aria-label":"切换主题"},[z.value==="dark"?(e.openBlock(),e.createBlock(h,{key:0})):(e.openBlock(),e.createBlock(k,{key:1}))])])]),e.createElementVNode("div",ht,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.value,(S,H)=>(e.openBlock(),e.createElementBlock("div",{key:H,class:"weekday"},e.toDisplayString(S),1))),128))]),e.createElementVNode("div",{class:"calendar-grid",onMousedown:Z,onMousemove:oe,onMouseup:me,onMouseleave:ma},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,(S,H)=>(e.openBlock(),e.createBlock(fe,{key:`${S.sYear}-${S.sMonth}-${S.sDay}`,date:S,events:p(S.date),selected:u(S.date),"in-range":D(S.date),"range-start":M(S.date),"range-end":O(S.date),today:pa(S.date),"other-month":ya(S),disabled:Se(S.date),"show-lunar":d.showLunar,"show-festivals":d.showFestivals,"show-terms":d.showTerms,locale:B.value,onClick:U=>W(S),onDblclick:U=>ga(S),onContextmenu:ha,onMouseenter:U=>fa(),onEventClick:l},{default:e.withCtx(({date:U,events:G})=>[e.renderSlot(d.$slots,"default",{date:U,events:G},void 0,!0)]),event:e.withCtx(({event:U})=>[e.renderSlot(d.$slots,"event",{event:U},void 0,!0)]),_:2},1032,["date","events","selected","in-range","range-start","range-end","today","other-month","disabled","show-lunar","show-festivals","show-terms","locale","onClick","onDblclick","onMouseenter"]))),128))],32),_.value&&d.events.length>0?(e.openBlock(),e.createElementBlock("div",kt,[e.createElementVNode("h3",null,e.toDisplayString(va(_.value.date))+" 的事件",1),e.createElementVNode("div",pt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p(_.value.date),S=>(e.openBlock(),e.createBlock(ge,{key:S.id,event:S,onClick:H=>l(S)},null,8,["event","onClick"]))),128))])])):e.createCommentVNode("",!0),e.unref(w).sidebar?(e.openBlock(),e.createElementBlock("div",yt,[e.renderSlot(d.$slots,"sidebar",{selectedDate:_.value},void 0,!0)])):e.createCommentVNode("",!0)],6))}}),Ca="",re=ae(vt,[["__scopeId","data-v-f28e156c"]]),Dt=["aria-label","role","tabindex","onKeydown"],bt={key:1},Mt=e.defineComponent({__name:"IconComponent",props:{name:{},size:{default:"16px"},color:{default:"currentColor"},clickable:{type:Boolean,default:!1},ariaLabel:{}},emits:["click"],setup(a,{emit:s}){const t=a,o=s,r=e.computed(()=>null),i=k=>({"chevron-left":"‹","chevron-right":"›","chevron-up":"‹","chevron-down":"›","arrow-left":"←","arrow-right":"→",calendar:"📅",today:"📍",event:"📝",reminder:"🔔",holiday:"🎉",custom:"⭐",recurring:"🔄",notification:"🔔",settings:"⚙️",theme:"🎨",language:"🌐",check:"✓",close:"✕",add:"+",edit:"✏️",delete:"🗑️",search:"🔍",filter:"🔽",sort:"↕️",rat:"🐭",ox:"🐮",tiger:"🐯",rabbit:"🐰",dragon:"🐲",snake:"🐍",horse:"🐴",goat:"🐐",monkey:"🐵",rooster:"🐔",dog:"🐶",pig:"🐷",jia:"甲",yi:"乙",bing:"丙",ding:"丁",wu:"戊",ji:"己",geng:"庚",xin:"辛",ren:"壬",gui:"癸",zi:"子",chou:"丑",yin:"寅",mao:"卯",chen:"辰",si:"巳","wu-branch":"午",wei:"未",shen:"申",you:"酉",xu:"戌",hai:"亥",spring:"🌱",summer:"☀️",autumn:"🍂",winter:"❄️","new-moon":"🌑","waxing-crescent":"🌒","first-quarter":"🌓","waxing-gibbous":"🌔","full-moon":"🌕","waning-gibbous":"🌖","last-quarter":"🌗","waning-crescent":"🌘"})[k]||"?",h=()=>{t.clickable&&o("click")};return(k,m)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["icon",`icon-${k.name}`,{"is-clickable":k.clickable}]),style:e.normalizeStyle({fontSize:k.size,color:k.color}),onClick:h,"aria-label":k.ariaLabel,role:k.clickable?"button":void 0,tabindex:k.clickable?0:void 0,onKeydown:[e.withKeys(h,["enter"]),e.withKeys(e.withModifiers(h,["prevent"]),["space"])]},[r.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r.value),{key:0})):(e.openBlock(),e.createElementBlock("span",bt,e.toDisplayString(i(k.name)),1))],46,Dt))}}),Ya="",wt=ae(Mt,[["__scopeId","data-v-e0665e22"]]),q=1900,se=1,he=30,x=2100,ke=12,St=31,ee=["iuo","in0","19bg","l6l","1kj0","1mag","2pak","ll0","16mg","lei","in0","19dm","196g","1kig","3kil","1da0","1ll0","1bd2","15dg","2ibn","ibg","195g","1d5l","qig","ra0","3aqk","ar0","15bg","kni","ibg","pb6","1l50","1qig","rkl","mmg","ar0","31n3","14n0","3i6n","1iag","1l50","3m56","1dag","ll0","39dk","9eg","14mg","1kli","1aag","1dan","r50","1dag","2kql","jd0","19dg","2hbj","klg","1ad8","1qag","ql0","1bl6","1aqg","ir0","1an4","19bg","kj0","1sj3","1mag","mqn","ll0","15mg","jel","img","196g","1l6k","1kig","1lao","1da0","1dl0","35d6","15dg","idg","1abk","195g","1cjq","qig","ra0","1bq6","1ar0","15bg","inl","ibg","p5g","t53","1qig","qqo","le0","1ar0","15ml","14n0","1ib0","1mak","1l50","1mig","tai","ll0","1atn","9eg","14mg","1ill","1aag","1d50","1el4","1bag","lep","it0","19dg","2kbm","klg","1a9g","uak","ql0","1bag","mqi","ir0","19n6","1970","1kj0","1qj5","1l9g","ml0","tl3","15mg","inr","img","196g","3k5m","1kig","1l90","1na5","1dd0","lmg","ldi","idg","19bn","195g","1aig","3cil","r90","1bd0","2ir3","14rg","ifo","ibg","p5g","2q56","1qig","qp0","39m4","1an0","18n0","1kn3","1ib0","1lan","1l50","1mig","nal","ll0","19mg","lek","kmg","1ado","1aag","1d50","1dl6","1bag","ld0","1at4","19dg","klg","1cjj","q9g","spn","ql0","1bag","2iql","ir0","19bg","l74","1kb0","1qb8","1l90","1ml0","2ql6","lmg","in0","1aek","18mg","1kag","1sii","1l90"],Et=["正","二","三","四","五","六","七","八","九","十","冬","腊"],Tt=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],pe=Date.UTC(q,se-1,he,0,0,0);function X(a){return parseInt(ee[a-q],32)&15}function ie(a){let s=0,t=parseInt(ee[a-q],32);for(let o=32768;o>=16;o>>=1)s+=t&o?30:29;return X(a)&&(s+=t&65536?30:29),s}function ye(a,s,t){let o=X(a),r=parseInt(ee[a-q],32),i=r&1<<16-s?30:29;return t&&s==o&&(i=r&65536?30:29),i}function Ct(a,s,t,o){if(a<q||a>x||s<1||s>12)return null;let r=X(a);if(o&&r!=s)return null;let i=(o?k&65536:1<<17-s)?30:29;if(t>i)return null;let h=0,k=parseInt(ee[a-q],32);for(let m=q;m<a;m++)h+=ie(m);for(let m=1;m<s||o&&m==s&&s==r;m++)h+=k&1<<16-m?30:29;return r&&s>r&&(h+=k&65536?30:29),h+=t,pe+h*864e5}function ce(a){let s=Math.floor((a-pe)/864e5),t=0,o=0,r=0,i=!1,h;if(s<=0)return null;let k=0;for(t=q;t<=x&&(h=ie(t),!(k+h>=s));t++)k+=h;let m=parseInt(ee[t-q],32),v=X(t);for(s-=k,k=0,o=1;o<=12&&(h=m&1<<16-o?30:29,!(k+h>=s));o++)if(k+=h,v&&o==v){if(h=m&65536?30:29,k+h>=s){i=!0;break}k+=h}return r=s-k,{lYear:t,lMonth:o,lDay:r,isLeap:i,lMonthZH:(i?"闰":"")+Et[o-1]+"月",lDayZH:Tt[r-1]}}function A(...a){return a.map(s=>(""+s).padStart(2,"0")).join("-")}const Yt=["日","一","二","三","四","五","六"];function ne(a,s,t){return Date.UTC(a,s-1,t,0,0,0)}function te(a){let s=new Date(a),t=s.getDay(),o={sYear:s.getFullYear(),sMonth:s.getMonth()+1,sDay:s.getDate(),week:t,weekZH:"星期"+Yt[t]};return o.date=A(o.sYear,o.sMonth,o.sDay),o}const $t=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];function Bt(a,s,t){let o=ne(a,s,t),{lYear:r}=ce(o);const h=(r-1984)%12;return $t[h>-1?h:h+12]}const Nt=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],Ft=["4lkmd5j6l5","55kql9lal9","59lanalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","4lkql9lal9","55kqlalala","5ananalqla","5akmd5j5kl","4lkqd9l6l5","55kqlalal9","5ananalqla","5akmd5j5kl","4lkmd9l6l5","55kqlalal9","59lanalqla","5akmd5j5kl","4lkmd9l6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5aklclj5al","4lkmd5j5kl","4lkql9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l5","55kql9lal9","5aalclb5al","2lkmd5j5kl","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lklclj5al","4lkmd5j6l5","55kql9l6l9","59a5alalal","2lklclb5al","4lkmd5j5l5","55kqd9l6l9","59a5alalal","2lklclb5al","4lkmd5j5kl","4lkmd9l6l9","55a5akalal","2lclclb5al","2lkmd5j5kl","4lkmd5l6l5","55a5akalak","2lalclalal","2lkmclj5kl","4lkmd5j6l5","55a5akalak","2kalclalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lklclb5al","4lkmd5j6l5","55a5akahak","2ka5alalal","2lklclb5al","4lkmd5j5l5","55a52kahak","2ka5akalal","2lklclb5al","4lkmd5j5kl","4la12kahak","2ga5akalal","2lclclb5al","2lkmclj5kl","4la12g8hak","2ga5akalak","2lalclalal","2lkmclj5kl","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga52kahak","2ka5alalal","2lklclb5al","4la12g8gag","2ga12kahak","2ka5akalal","2lklclb5al","4la1208ga0","20a12g8hak","2ga5akalal","2lalclalal","2la1208ga0","20a12g8hak","2ga5akalal","2lalalalal","2la1208ga0","20a12g8hag","2ga5akalak","2lalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la0200g00","20a12g8hag","2ga52kahak","2kalalalal","2la0200g00","20a12g8gag","2ga52kahak","2ka5akalal","2la0200g00","20a12g8gag","2ga12gahak","2ka5akalal","2la0200g00","20a1208ga0","2ga12g8hak","2ga5akalal","2l00200000","a1208ga0","20a12g8hak","2ga5akalal","2l00000000","a1208ga0","20a12g8hag","2ga5akalak","2l00000000","a1208g00","20a12g8hag","2ga5akalak","2k00000000","a1200g00","20a12g8hag","2ga5akalak","2kalalalal"],_t=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];function le(a){if(a<q||a>x)return!1;let s=Ft[a-q],t=parseInt(s,32).toString(4);return t.length!=24&&(t="0"+t),t.split("").map(function(o,r){return+o+Nt[r]})}function Lt(a,s,t){let o="";const r=le(a);return r&&(r.push(31),r.forEach(function(i,h){let k=Math.floor(h/2)+1;s==k&&t==i&&(o=_t[h])})),o}const jt=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Vt=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];function de(a){a=a%60,a<0&&(a+=60);let s=a%10,t=a%12;return jt[s]+Vt[t]}function zt(a,s,t){let o=ne(a,s,t),{lYear:r}=ce(o),i=r-1984;return de(i)}function qt(a,s,t){let o="";const r=le(a);if(r){let i=0;r.push(31),r.forEach(function(h,k){let m=Math.floor(k/2)+1;A(s,t)>=A(m,h)&&(i=m)}),i+=(a-1984)*12,o=de(i)}return o}function ue(a,s,t){let r=Math.round((ne(a,s,t)-ne(1900,1,30))/864e5)+39;return de(r)}const It={"01-01":[{name:"元旦",found:"1949"}],"02-14":[{name:"情人节",found:"0270"}],"03-08":[{name:"妇女节",found:"1949-12"}],"03-12":[{name:"植树节",found:"1979"}],"04-01":[{name:"愚人节",found:"1564"}],"05-01":[{name:"劳动节",found:"1949-12"}],"05-04":[{name:"青年节",found:"1949-12"}],"06-01":[{name:"儿童节",found:"1949-11"}],"07-01":[{name:"建党节",found:"1938-05"}],"08-01":[{name:"建军节",found:"1933-07-11"}],"09-10":[{name:"教师节",found:"1985-06"}],"10-01":[{name:"国庆节",found:"1949-12-02"}],"11-01":[{name:"万圣节",found:"0600"}],"12-05":[{name:"国际志愿人员日",found:"1985-12-17"}],"12-13":[{name:"国家公祭日",found:"2014-02-27"}],"12-25":[{name:"圣诞节",found:"0336"}]},Rt={"01-10":[{name:"中国人民警察节",found:"2020-07-21"}],"01-26":[{name:"国际海关日",found:"1983-01-26"}],"02-02":[{name:"世界湿地日",found:"1996"}],"02-10":[{name:"国际气象节",found:"1991-02-10"}],"03-01":[{name:"国际海豹日",found:"1983"}],"03-03":[{name:"全国爱耳日",found:"1998-03"}],"03-05":[{name:"雷锋纪念日",found:"1963-03-05"}],"03-09":[{name:"保护母亲河日",found:"2002"}],"03-15":[{name:"消费者权益日",found:"1983"}],"03-17":[{name:"国际航海日",found:"1977-11"}],"03-18":[{name:"全国爱肝日",found:"2001"}],"03-21":[{name:"世界森林日",found:"2012-12"},{name:"世界睡眠日",found:"2001"}],"03-22":[{name:"世界水日",found:"1993-01-18"}],"03-23":[{name:"世界气象日",found:"1961"}],"03-24":[{name:"防治结核病日",found:"1995-03-24"}],"03-27":[{name:"学生安全教育日",found:"1996-03-25"}],"04-07":[{name:"世界卫生日",found:"1948-06"}],"04-13":[{name:"泼水节",found:""}],"04-15":[{name:"国家安全教育日",found:"2015-07-01"}],"04-22":[{name:"世界地球日",found:"1970"}],"04-23":[{name:"世界读书日",found:"1995-11-15"}],"04-24":[{name:"中国航天日",found:"2016-03-08"}],"04-26":[{name:"知识产权日",found:"2001-04-26"}],"05-02":[{name:"世界防治哮喘日",found:"1998-12-11"}],"05-08":[{name:"世界微笑日",found:"1948"},{name:"世界红十字日",found:"1948"}],"05-12":[{name:"国际护士节",found:"1912"},{name:"防灾减灾日",found:"2009-05-12"}],"05-15":[{name:"国际家庭日",found:"1994-05-15"}],"05-18":[{name:"国际博物馆日",found:"1977-05-18"}],"05-19":[{name:"中国旅游日",found:"2001-05-19"}],"05-20":[{name:"学生营养日",found:"2001-03"}],"05-22":[{name:"国际生物多样性日",found:"2000-12-20"}],"05-30":[{name:"五卅运动纪念日",found:"1925-05-30"}],"05-31":[{name:"世界无烟日",found:"1987-11"}],"06-06":[{name:"世界环境日",found:"1972-06-05"}],"06-06":[{name:"全国爱眼日",found:"1996"}],"06-11":[{name:"中国人口日",found:"1990"}],"06-14":[{name:"世界献血者日",found:"2005-05-24"}],"06-23":[{name:"国际奥林匹克日",found:"1948-06-23"}],"06-25":[{name:"全国土地日",found:"1991-05-24"}],"06-26":[{name:"国际禁毒日",found:"1987-06-12"}],"07-01":[{name:"香港回归纪念日",found:"1997-07-01"}],"07-02":[{name:"国际体育记者日",found:"1995"}],"07-11":[{name:"世界人口日",found:"1989"}],"08-08":[{name:"全民健身日",found:"2009"}],"08-12":[{name:"国际青年日",found:"1999-12-17"}],"08-19":[{name:"中国医师节",found:"2017-11-03"}],"08-26":[{name:"全国律师咨询日",found:"1980-08-26"}],"09-03":[{name:"抗战胜利纪念日",found:"2014-02-27"}],"09-08":[{name:"国际扫盲日",found:"1965-11-17"}],"09-16":[{name:"中国脑健康日",found:"2000-09-16"},{name:"国际臭氧层保护日",found:"1995-01-23"}],"09-18":[{name:"九一八事变纪念日",found:"1931-09-18"}],"09-20":[{name:"全国爱牙日",found:"1989"}],"09-21":[{name:"国际和平日",found:"2001-09-07"}],"09-27":[{name:"世界旅游日",found:"1970-09-27"}],"09-28":[{name:"孔子诞辰纪念日",found:"1913-09-28"}],"09-30":[{name:"烈士纪念日",found:"2014-09-30"}],"10-04":[{name:"世界动物日",found:"1931"}],"10-05":[{name:"世界教师日",found:"1994"}],"10-08":[{name:"全国高血压日",found:"1998"}],"10-09":[{name:"世界邮政日",found:"1984"}],"10-13":[{name:"世界保健日",found:"1950"}],"10-14":[{name:"世界标准日",found:"1946"}],"10-15":[{name:"国际盲人节",found:"1984"}],"10-16":[{name:"世界粮食日",found:"1981-10-16"}],"10-24":[{name:"联合国日",found:"1947-10-24"}],"11-08":[{name:"记者节",found:"2000-08-01"}],"11-09":[{name:"消防宣传日",found:"1992"}],"11-14":[{name:"世界防治糖尿病日",found:"1991"}],"11-17":[{name:"国际大学生节",found:"1946-11-17"}],"12-01":[{name:"世界艾滋病日",found:"1988"}],"12-03":[{name:"国际残疾人日",found:"1992-10-12"}],"12-04":[{name:"国家宪法日",found:"2014-11-01"}],"12-09":[{name:"世界足球日",found:"1978"}],"12-10":[{name:"世界人权日",found:"1948-12-10"}],"12-11":[{name:"国际山岳日",found:"2003-12-11"}],"12-15":[{name:"强化免疫日",found:"1988"}],"12-20":[{name:"澳门回归纪念日",found:"1999-12-20"}]},ve={"01-01":[{name:"春节",found:""}],"01-15":[{name:"元宵节",found:""}],"02-02":[{name:"龙头节",found:""}],"03-03":[{name:"上巳节",found:""}],"05-05":[{name:"端午节",found:""}],"07-07":[{name:"七夕节",found:""}],"07-15":[{name:"中元节",found:""}],"08-15":[{name:"中秋节",found:""}],"09-09":[{name:"重阳节",found:""}],"10-15":[{name:"下元节",found:""}],"12-08":[{name:"腊八节",found:""}],"12-23":[{name:"北小年",found:""}],"12-24":[{name:"南小年",found:""}],"12-30":[{name:"除夕",found:""}]},Zt={"03-23":[{name:"妈祖圣诞",found:"0960"}],"06-24":[{name:"火把节",found:""}],"10-01":[{name:"寒衣节",found:""}]},At={"03-04-01":[{name:"中小学生安全教育日",found:"1996"}],"05-02-00":[{name:"母亲节",found:"1913-05-10"}],"05-03-00":[{name:"全国助残日",found:"1990-12-28"}],"06-03-00":[{name:"父亲节",found:"1972"}],"09-03-00":[{name:"世界清洁地球日",found:"1993"}],"09-04-00":[{name:"国际聋人日",found:"1957"}],"10-01-01":[{name:"国际住房日",found:"1985-12-17"}],"11-04-04":[{name:"感恩节",found:"1941"}]},De=["一九","二九","三九","四九","五九","六九","七九","八九","九九"];function Ot(a,s,t){const o=new Date(a,s-1,t),r=o.getDate(),i=o.getDay(),h=Math.ceil(r/7),k=A(a,s,t);return[It[A(s,t)],Rt[A(s,t)],At[A(s,h,i)]].flatMap(function(m=[]){return m.filter(v=>k>=v.found).map(v=>v.name)})}function Ht(a,s,t){let o=[],r=le(a),i=864e5;return function(){let h=new Date(a,3,r[6]-1).getTime(),k=te(h);k.sYear==a&&k.sMonth==s&&k.sDay==t&&o.push("寒食节")}(),function(){let h=new Date(a,5,r[11]).getTime(),k=new Date(a,7,r[14]).getTime(),m=0;for(let v=h;v<=k;v+=i){let w=te(v);ue(w.sYear,w.sMonth,w.sDay).includes("庚")&&(m++,w.sYear==a&&w.sMonth==s&&w.sDay==t&&(m==3?o.push("初伏"):m==4&&o.push("中伏")))}m=0;for(let v=k;v<=k+i*20;v+=i){let w=te(v);ue(w.sYear,w.sMonth,w.sDay).includes("庚")&&(m++,w.sYear==a&&w.sMonth==s&&w.sDay==t&&(m==1?o.push("末伏"):m==2&&o.push("出伏")))}}(),function(){let h=le(a-1),k=new Date(a-1,11,h[23]).getTime(),m=new Date(a,11,r[23]).getTime(),v=0;for(let w=k;w<=k+8*9*i;w+=9*i){let b=te(w);b.sYear==a&&b.sMonth==s&&b.sDay==t&&o.push(De[v]),v++}v=0;for(let w=m;w<=m+8*9*i;w+=9*i){let b=te(w);b.sYear==a&&b.sMonth==s&&b.sDay==t&&o.push(De[v]),v++}}(),function(){const k=function(m){if(m<1900||m>2100)return null;const v=m-1900,w=v%19,b=Math.floor(v/4),C=Math.floor((7*w+1)/19),_=(11*w+4-C)%29,j=(v+b+31-_)%7,E=25-_-j;return E>0?[4,E]:[3,31+E]}(a);if(k){const[m,v]=k;m==s&&v==t&&o.push("复活节")}}(),o}function Pt(a,s,t){let o=[];const r=A(a,s,t),i=A(s,t);return s==12&&t==ye(a,12)?o.push(ve["12-30"][0].name):o=o.concat([ve[i],Zt[i]].flatMap(function(h=[]){return h.filter(k=>r>=k.found).map(k=>k.name)})),o}const Jt=["水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"],Kt=[20,19,21,20,21,22,23,23,23,24,23,22];function xt(a,s){let t=11;return Kt.forEach(function(o,r){let i=r+1;A(a,s)>=A(i,o)&&(t=r%12)}),Jt[t]+"座"}function be(a,s,t){if(a<q||a>x)throw new Error(`年份超出范围 ${q}-${x}`);if(s<1||s>12)throw new Error("月份必须在1-12之间");if(t<1||t>31)throw new Error("日期必须在1-31之间");const o=new Date(a,s-1,t);if(o.getFullYear()!==a||o.getMonth()!==s-1||o.getDate()!==t)throw new Error("无效的日期");const r=o.getTime(),i=ce(r);if(!i)throw new Error("农历转换失败");const h={year:zt(a,s,t),month:qt(a,s,t),day:ue(a,s,t)},k=Bt(i.lYear,s,t),m=Lt(a,s,t),v=Ot(a,s,t),w=Ht(a,s,t),b=Pt(i.lYear,i.lMonth,i.lDay),C=[...v,...w,...b].join(" "),_=xt(s,t);return{lYear:i.lYear,lMonth:i.lMonth,lDay:i.lDay,isLeap:i.isLeap,lMonthZH:i.lMonthZH,lDayZH:i.lDayZH,IMonthCn:i.lMonthZH,IDayCn:i.lDayZH,gzYear:h.year,gzMonth:h.month,gzDay:h.day,Animal:k,Term:m||"",festival:C||"",astro:_}}function Wt(a,s,t,o=!1){const r=Ct(a,s,t,o);if(!r)return null;const i=new Date(r);return{sYear:i.getFullYear(),sMonth:i.getMonth()+1,sDay:i.getDate()}}function Ut(a){return ie(a)}function Gt(a,s,t=!1){return ye(a,s,t)}function Qt(a){return X(a)}function Xt(a){return X(a)>0}function ea(){return{min:q,max:x}}function ta(a,s,t){if(a<q||a>x||a===q&&(s<se||s===se&&t<he)||a===x&&(s>ke||s===ke&&t>St))return!1;const o=new Date(a,s-1,t);return o.getFullYear()===a&&o.getMonth()===s-1&&o.getDate()===t}function aa(){const a=new Date;return be(a.getFullYear(),a.getMonth()+1,a.getDate())}class P{}J(P,"solar2lunar",be),J(P,"lunar2solar",Wt),J(P,"lunarYearDays",Ut),J(P,"lunarMonthDays",Gt),J(P,"leapMonth",Qt),J(P,"isLeapYear",Xt),J(P,"getYearRange",ea),J(P,"isValidDate",ta),J(P,"today",aa);function na(a){const s=e.ref(new Date),t=e.ref(new Date),o=e.ref([]),r=e.ref(null),i=e.ref(null),h=e.ref(!1),k=e.computed({get:()=>t.value.getFullYear(),set:l=>{const u=new Date(t.value);u.setFullYear(l),t.value=u}}),m=e.computed({get:()=>t.value.getMonth()+1,set:l=>{const u=new Date(t.value);u.setMonth(l-1),t.value=u}}),v=e.computed(()=>new Date(k.value,m.value-1,1)),w=e.computed(()=>new Date(k.value,m.value,0)),b=e.computed(()=>{const l=[],u=new Date(v.value),D=new Date(w.value),M=u.getDay(),O=a.weekStartsOn==="monday"?M===0?6:M-1:M;for(let N=O-1;N>=0;N--){const Z=new Date(u);Z.setDate(Z.getDate()-N-1),l.push(C(Z,!1))}for(let N=new Date(u);N<=D;N.setDate(N.getDate()+1))l.push(C(new Date(N),!0));const W=42-l.length;for(let N=1;N<=W;N++){const Z=new Date(D);Z.setDate(Z.getDate()+N),l.push(C(Z,!1))}return l}),C=(l,u)=>{const D=P.solar2lunar(l.getFullYear(),l.getMonth()+1,l.getDate());return{date:l.toISOString().split("T")[0],solar:{year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate()},lunar:{year:D.lYear,month:D.lMonth,day:D.lDay,isLeap:D.isLeap,monthName:D.IMonthCn,dayName:D.IDayCn},sYear:l.getFullYear(),sMonth:l.getMonth()+1,sDay:l.getDate(),lYear:D.lYear,lMonth:D.lMonth,lDay:D.lDay,zodiac:D.Animal,ganZhi:{year:D.gzYear,month:D.gzMonth,day:D.gzDay},solarTerm:D.Term||"",festival:D.festival||"",isToday:n(l,s.value),isCurrentMonth:u,isWeekend:l.getDay()===0||l.getDay()===6,isHoliday:!1,isSelected:!1,isInRange:!1,isRangeStart:!1,isRangeEnd:!1,isDisabled:!1}},_=()=>{const l=new Date(t.value);l.setMonth(l.getMonth()-1),t.value=l},j=()=>{const l=new Date(t.value);l.setMonth(l.getMonth()+1),t.value=l},E=()=>{const l=new Date(t.value);l.setFullYear(l.getFullYear()-1),t.value=l},$=()=>{const l=new Date(t.value);l.setFullYear(l.getFullYear()+1),t.value=l},z=()=>{t.value=new Date},g=l=>{t.value=new Date(l)},V=(l,u)=>{if(a.selectionMode==="single")o.value=[new Date(l)];else if(a.selectionMode==="multiple"){const D=o.value.findIndex(M=>n(M,l));D>=0?o.value.splice(D,1):o.value.push(new Date(l))}else a.selectionMode==="range"&&(u!=null&&u.shiftKey&&r.value?(i.value=new Date(l),y()):!r.value||r.value&&i.value?(r.value=new Date(l),i.value=null,o.value=[]):(i.value=new Date(l),y()))},B=l=>{a.selectionMode==="range"&&(h.value=!0,r.value=new Date(l),i.value=null)},R=l=>{h.value&&a.selectionMode==="range"&&(i.value=new Date(l))},I=()=>{h.value&&(h.value=!1,r.value&&i.value&&y())},y=()=>{if(!r.value||!i.value)return;const l=new Date(Math.min(r.value.getTime(),i.value.getTime())),u=new Date(Math.max(r.value.getTime(),i.value.getTime()));o.value=[];for(let D=new Date(l);D<=u;D.setDate(D.getDate()+1))o.value.push(new Date(D))},Y=()=>{o.value=[],r.value=null,i.value=null},n=(l,u)=>l.getFullYear()===u.getFullYear()&&l.getMonth()===u.getMonth()&&l.getDate()===u.getDate(),f=l=>o.value.some(u=>n(u,l)),T=l=>{if(!r.value)return!1;if(!i.value)return n(l,r.value);const u=Math.min(r.value.getTime(),i.value.getTime()),D=Math.max(r.value.getTime(),i.value.getTime()),M=l.getTime();return M>=u&&M<=D},c=l=>{if(!r.value||!i.value)return!1;const u=r.value.getTime()<=i.value.getTime()?r.value:i.value;return n(l,u)},p=l=>{if(!r.value||!i.value)return!1;const u=r.value.getTime()>i.value.getTime()?r.value:i.value;return n(l,u)};return e.watch(()=>a.modelValue,l=>{l?Array.isArray(l)?o.value=l.map(u=>new Date(u)):typeof l=="string"&&(o.value=[new Date(l)]):o.value=[]},{immediate:!0}),{currentDate:s,viewDate:t,selectedDates:o,rangeStart:r,rangeEnd:i,isDragging:h,currentYear:k,currentMonth:m,monthStart:v,monthEnd:w,calendarDates:b,prevMonth:_,nextMonth:j,prevYear:E,nextYear:$,goToday:z,goToDate:g,selectDate:V,startDragSelection:B,updateDragSelection:R,endDragSelection:I,clearSelection:Y,isSameDay:n,isDateSelected:f,isDateInRange:T,isRangeStart:c,isRangeEnd:p}}function la(a,s){const t=e.ref([...(a==null?void 0:a.events)||[]]),o=e.ref(null),r=e.ref(""),i=e.ref("all"),h=e.computed(()=>{const c={};return t.value.forEach(p=>{const l=I(p.date);c[l]||(c[l]=[]),c[l].push(p),p.recurring&&$(p).forEach(D=>{const M=I(D.date);c[M]||(c[M]=[]),c[M].push(D)})}),c}),k=e.computed(()=>t.value.filter(c=>{var u;const p=!r.value||c.title.toLowerCase().includes(r.value.toLowerCase())||((u=c.description)==null?void 0:u.toLowerCase().includes(r.value.toLowerCase())),l=i.value==="all"||c.type===i.value;return p&&l})),m=c=>{const p=typeof c=="string"?c:I(c.toISOString().split("T")[0]);return h.value[p]||[]},v=(c,p)=>{const l=[],u=new Date(c),D=new Date(p);for(let M=new Date(u);M<=D;M.setDate(M.getDate()+1)){const O=m(M);l.push(...O)}return l},w=c=>{const p={...c,id:y(),type:c.type||"event",color:c.color||n(c.type||"event")};return t.value.push(p),p},b=(c,p)=>{const l=t.value.findIndex(u=>u.id===c);return l>=0?(t.value[l]={...t.value[l],...p},!0):!1},C=c=>{var l;const p=t.value.findIndex(u=>u.id===c);return p>=0?(t.value.splice(p,1),((l=o.value)==null?void 0:l.id)===c&&(o.value=null),!0):!1},_=c=>{let p=0;return c.forEach(l=>{C(l)&&p++}),p},j=(c,p)=>{const l=t.value.find(D=>D.id===c);if(!l)return null;const u={...l,date:p||l.date,title:`${l.title} (副本)`};return delete u.id,w(u)},E=(c,p)=>b(c,{date:p}),$=(c,p=100)=>{if(!c.recurring)return[];const l=[],u=new Date(c.date),{type:D,interval:M,endDate:O,count:W}=c.recurring;let N=new Date(u),Z=0;const oe=O?new Date(O):new Date(u.getFullYear()+2,11,31),me=W||p;for(;Z<me&&N<=oe;){switch(D){case"daily":N.setDate(N.getDate()+M);break;case"weekly":N.setDate(N.getDate()+7*M);break;case"monthly":N.setMonth(N.getMonth()+M);break;case"yearly":N.setFullYear(N.getFullYear()+M);break}N<=oe&&(l.push({...c,id:`${c.id}_recurring_${Z}`,date:N.toISOString().split("T")[0]}),Z++)}return l},z=(c,p)=>{const l=t.value.find(D=>D.id===c);if(!l)return!1;l.reminders||(l.reminders=[]);const u={...p,id:Y()};return l.reminders.push(u),!0},g=(c,p)=>{const l=t.value.find(D=>D.id===c);if(!l||!l.reminders)return!1;const u=l.reminders.findIndex(D=>D.id===p);return u>=0?(l.reminders.splice(u,1),!0):!1},V=(c=60)=>{const p=new Date,l=[];return t.value.forEach(u=>{u.reminders&&u.reminders.forEach(D=>{const M=new Date(`${u.date}T${u.startTime||"00:00"}`),W=new Date(M.getTime()-D.time*60*1e3).getTime()-p.getTime();W>0&&W<=c*60*1e3&&l.push({event:u,reminder:D})})}),l.sort((u,D)=>{const M=new Date(`${u.event.date}T${u.event.startTime||"00:00"}`).getTime()-u.reminder.time*60*1e3,O=new Date(`${D.event.date}T${D.event.startTime||"00:00"}`).getTime()-D.reminder.time*60*1e3;return M-O})},B=(c="json")=>{if(c==="json")return JSON.stringify(t.value,null,2);{let p=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Vue Lunar Calendar//EN
`;return t.value.forEach(l=>{p+=`BEGIN:VEVENT
`,p+=`UID:${l.id}
`,p+=`DTSTART:${l.date.replace(/-/g,"")}
`,p+=`SUMMARY:${l.title}
`,l.description&&(p+=`DESCRIPTION:${l.description}
`),p+=`END:VEVENT
`}),p+="END:VCALENDAR",p}},R=(c,p="json")=>{try{if(p==="json"){const l=JSON.parse(c);let u=0;return l.forEach(D=>{const M={...D,id:y()};t.value.push(M),u++}),u}return 0}catch(l){return console.error("导入事件失败:",l),0}},I=c=>c.split("T")[0],y=()=>`event_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Y=()=>`reminder_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=c=>({event:"#2196f3",reminder:"#ff9800",holiday:"#4caf50",custom:"#9c27b0"})[c]||"#2196f3";return a&&e.watch(()=>a.events,c=>{t.value=[...c||[]]},{deep:!0}),{events:t,selectedEvent:o,eventFilter:r,eventTypeFilter:i,eventsByDate:h,filteredEvents:k,getEventsForDate:m,getEventsInRange:v,getDateEvents:c=>m(c),addEvent:w,updateEvent:b,deleteEvent:C,deleteEvents:_,duplicateEvent:j,moveEvent:E,onEventClick:c=>{o.value=c,s&&s("event-click",c)},generateRecurringEvents:$,addReminder:z,removeReminder:g,getUpcomingReminders:V,exportEvents:B,importEvents:R}}const oa={primary:"#2196f3",secondary:"#1976d2",background:"#ffffff",text:"#333333",border:"#e0e0e0",hover:"#f5f5f5",selected:"#2196f3",today:"#ff5722",weekend:"#f44336",holiday:"#4caf50",disabled:"#bdbdbd"},ra={primary:"#64b5f6",secondary:"#42a5f5",background:"#121212",text:"#ffffff",border:"#333333",hover:"#1e1e1e",selected:"#64b5f6",today:"#ff7043",weekend:"#ef5350",holiday:"#66bb6a",disabled:"#616161"};function sa(a="auto",s){const t=e.ref(a),o=e.ref(!1),r=e.ref(s||{}),i=()=>{typeof window<"u"&&window.matchMedia&&(o.value=window.matchMedia("(prefers-color-scheme: dark)").matches)},h=e.computed(()=>t.value==="auto"?o.value?"dark":"light":t.value),k=e.computed(()=>({...h.value==="dark"?ra:oa,...r.value})),m=e.computed(()=>{const y=k.value;return{"--calendar-primary":y.primary,"--calendar-secondary":y.secondary,"--calendar-background":y.background,"--calendar-text":y.text,"--calendar-border":y.border,"--calendar-hover":y.hover,"--calendar-selected":y.selected,"--calendar-today":y.today,"--calendar-weekend":y.weekend,"--calendar-holiday":y.holiday,"--calendar-disabled":y.disabled}}),v=()=>{if(typeof document<"u"){const y=document.documentElement,Y=m.value;Object.entries(Y).forEach(([n,f])=>{y.style.setProperty(n,f)}),y.classList.remove("theme-light","theme-dark"),y.classList.add(`theme-${h.value}`)}},w=y=>{t.value=y,g(y)},b=()=>{t.value==="auto"?w(o.value?"light":"dark"):w(t.value==="dark"?"light":"dark")},C=y=>{r.value={...r.value,...y},B(r.value)},_=()=>{r.value={},B({})},j=y=>{const Y=y.replace("#",""),n=parseInt(Y.substr(0,2),16),f=parseInt(Y.substr(2,2),16),T=parseInt(Y.substr(4,2),16);return(n*299+f*587+T*114)/1e3>128?"#000000":"#ffffff"},E=y=>{const Y=y.replace("#",""),n=parseInt(Y.substr(0,2),16),f=parseInt(Y.substr(2,2),16),T=parseInt(Y.substr(4,2),16);return{lighter:`rgb(${Math.min(255,n+30)}, ${Math.min(255,f+30)}, ${Math.min(255,T+30)})`,light:`rgb(${Math.min(255,n+15)}, ${Math.min(255,f+15)}, ${Math.min(255,T+15)})`,base:y,dark:`rgb(${Math.max(0,n-15)}, ${Math.max(0,f-15)}, ${Math.max(0,T-15)})`,darker:`rgb(${Math.max(0,n-30)}, ${Math.max(0,f-30)}, ${Math.max(0,T-30)})`}},$={blue:{primary:"#2196f3",secondary:"#1976d2",selected:"#2196f3"},green:{primary:"#4caf50",secondary:"#388e3c",selected:"#4caf50"},purple:{primary:"#9c27b0",secondary:"#7b1fa2",selected:"#9c27b0"},orange:{primary:"#ff9800",secondary:"#f57c00",selected:"#ff9800"},red:{primary:"#f44336",secondary:"#d32f2f",selected:"#f44336"}},z=y=>{const Y=$[y];Y&&C(Y)},g=y=>{typeof localStorage<"u"&&localStorage.setItem("vue-calendar-theme",y)},V=()=>{if(typeof localStorage<"u"){const y=localStorage.getItem("vue-calendar-theme");if(y&&["light","dark","auto"].includes(y))return y}return"auto"},B=y=>{typeof localStorage<"u"&&localStorage.setItem("vue-calendar-custom-theme",JSON.stringify(y))},R=()=>{if(typeof localStorage<"u")try{const y=localStorage.getItem("vue-calendar-custom-theme");return y?JSON.parse(y):{}}catch(y){return console.warn("加载自定义主题失败:",y),{}}return{}},I=()=>{if(typeof window<"u"&&window.matchMedia){const y=window.matchMedia("(prefers-color-scheme: dark)"),Y=n=>{o.value=n.matches};return y.addEventListener("change",Y),()=>{y.removeEventListener("change",Y)}}return()=>{}};return e.onMounted(()=>{i();const y=V(),Y=R();t.value=y,r.value=Y;const n=I();return v(),n}),e.watch([h,r],()=>{v()},{deep:!0}),{currentTheme:t,systemPrefersDark:o,customThemeConfig:r,effectiveTheme:h,themeConfig:k,cssVariables:m,setTheme:w,toggleDarkMode:b,updateCustomTheme:C,resetCustomTheme:_,applyPresetTheme:z,getContrastColor:j,generateColorVariants:E,presetThemes:$}}const K={"zh-CN":{name:"简体中文",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今天",clear:"清除",confirm:"确认",cancel:"取消",prevYear:"上一年",nextYear:"下一年",prevMonth:"上个月",nextMonth:"下个月",yearFormat:"YYYY年",monthFormat:"M月",dateFormat:"YYYY-MM-DD"},"zh-TW":{name:"繁體中文",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今天",clear:"清除",confirm:"確認",cancel:"取消",prevYear:"上一年",nextYear:"下一年",prevMonth:"上個月",nextMonth:"下個月",yearFormat:"YYYY年",monthFormat:"M月",dateFormat:"YYYY-MM-DD"},"en-US":{name:"English (US)",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",confirm:"Confirm",cancel:"Cancel",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",yearFormat:"YYYY",monthFormat:"MMMM",dateFormat:"MM/DD/YYYY"},"en-GB":{name:"English (UK)",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",confirm:"Confirm",cancel:"Cancel",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",yearFormat:"YYYY",monthFormat:"MMMM",dateFormat:"DD/MM/YYYY"},"ja-JP":{name:"日本語",weekdays:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],weekdaysShort:["日","月","火","水","木","金","土"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",clear:"クリア",confirm:"確認",cancel:"キャンセル",prevYear:"前年",nextYear:"翌年",prevMonth:"前月",nextMonth:"翌月",yearFormat:"YYYY年",monthFormat:"M月",dateFormat:"YYYY/MM/DD"},"ko-KR":{name:"한국어",weekdays:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekdaysShort:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],today:"오늘",clear:"지우기",confirm:"확인",cancel:"취소",prevYear:"이전 년도",nextYear:"다음 년도",prevMonth:"이전 달",nextMonth:"다음 달",yearFormat:"YYYY년",monthFormat:"M월",dateFormat:"YYYY-MM-DD"}},Me={"zh-CN":{lunar:"农历",solar:"公历",zodiac:"生肖",ganZhi:"干支",solarTerm:"节气",festival:"节日",leap:"闰",month:"月",day:"日"},"zh-TW":{lunar:"農曆",solar:"公曆",zodiac:"生肖",ganZhi:"干支",solarTerm:"節氣",festival:"節日",leap:"閏",month:"月",day:"日"},"en-US":{lunar:"Lunar",solar:"Solar",zodiac:"Zodiac",ganZhi:"Gan Zhi",solarTerm:"Solar Term",festival:"Festival",leap:"Leap",month:"Month",day:"Day"},"en-GB":{lunar:"Lunar",solar:"Solar",zodiac:"Zodiac",ganZhi:"Gan Zhi",solarTerm:"Solar Term",festival:"Festival",leap:"Leap",month:"Month",day:"Day"},"ja-JP":{lunar:"旧暦",solar:"新暦",zodiac:"十二支",ganZhi:"干支",solarTerm:"二十四節気",festival:"祭日",leap:"閏",month:"月",day:"日"},"ko-KR":{lunar:"음력",solar:"양력",zodiac:"띠",ganZhi:"간지",solarTerm:"절기",festival:"명절",leap:"윤",month:"월",day:"일"}};function ia(a){const s=(a==null?void 0:a.locale)||"zh-CN",t=e.ref(s),o=e.ref({}),r=()=>{if(typeof navigator<"u"){const n=navigator.language||navigator.userLanguage;if(K[n])return n;const f=n.split("-")[0];return Object.keys(K).find(c=>c.startsWith(f))||"zh-CN"}return"zh-CN"},i=e.computed(()=>{const n=o.value[t.value];return{...K[t.value]||K["zh-CN"],...n}}),h=e.computed(()=>{const n={...K,...o.value};return Object.keys(n).map(f=>({code:f,name:n[f].name}))}),k=e.computed(()=>Me[t.value]||Me["zh-CN"]),m=e.computed(()=>{const n=(a==null?void 0:a.firstDayOfWeek)||1,f=i.value.weekdaysShort;return n===0?f:[...f.slice(1),f[0]]}),v=n=>{K[n]||o.value[n]?(t.value=n,B(n)):console.warn(`语言 ${n} 不存在`)},w=(n,f)=>{o.value[n]=f,I()},b=(n,f)=>{K[n]?o.value[n]={...K[n],...o.value[n],...f}:o.value[n]&&(o.value[n]={...o.value[n],...f}),I()},C=n=>{o.value[n]&&(delete o.value[n],I(),t.value===n&&v("zh-CN"))},_=(n,f)=>{const T=f||i.value.dateFormat,c=n.getFullYear(),p=n.getMonth()+1,l=n.getDate();let u=T;return u=u.replace(/YYYY/g,c.toString()),u=u.replace(/YY/g,c.toString().slice(-2)),u=u.replace(/MMMM/g,i.value.months[p-1]||""),u=u.replace(/MMM/g,i.value.monthsShort[p-1]||""),u=u.replace(/MM/g,p.toString().padStart(2,"0")),u=u.replace(/M/g,p.toString()),u=u.replace(/DD/g,l.toString().padStart(2,"0")),u=u.replace(/D/g,l.toString()),u},j=n=>(i.value.yearFormat||"YYYY").replace(/YYYY/g,n.toString()),E=n=>i.value.monthFormat.replace(/MMMM/g,i.value.months[n-1]).replace(/MMM/g,i.value.monthsShort[n-1]).replace(/MM/g,n.toString().padStart(2,"0")).replace(/M/g,n.toString()),$=(n,f=!1)=>(f?i.value.weekdaysShort:i.value.weekdays)[n]||"",z=(n,f=!1)=>(f?i.value.monthsShort:i.value.months)[n-1]||"",g=(n,f)=>{const T=n.split(".");let c=i.value;for(const l of T)if(c=c==null?void 0:c[l],c===void 0)break;if(typeof c=="string")return c;const p=k.value[n];return p||f||n},V=e.computed(()=>{const n=["ar","he","fa","ur"],T=String(t.value||"zh-CN").split("-")[0];return n.includes(T)}),B=n=>{typeof localStorage<"u"&&localStorage.setItem("vue-calendar-locale",n)},R=()=>{if(typeof localStorage<"u"){const n=localStorage.getItem("vue-calendar-locale");if(n&&(K[n]||o.value[n]))return n}return r()},I=()=>{typeof localStorage<"u"&&localStorage.setItem("vue-calendar-custom-locales",JSON.stringify(o.value))},y=()=>{if(typeof localStorage<"u")try{const n=localStorage.getItem("vue-calendar-custom-locales");return n?JSON.parse(n):{}}catch(n){return console.warn("加载自定义语言失败:",n),{}}return{}},Y=()=>{o.value=y();const n=R();t.value=n};return e.watch(t,n=>{typeof document<"u"&&(document.documentElement.lang=n,document.documentElement.dir=V.value?"rtl":"ltr")},{immediate:!0}),Y(),{currentLocale:t,customLocales:o,locale:i,availableLocales:h,lunarTexts:k,weekdaysDisplay:m,isRTL:V,setLocale:v,addCustomLocale:w,updateLocale:b,removeCustomLocale:C,formatDate:_,formatYear:j,formatMonth:E,getWeekdayName:$,getMonthName:z,t:g,detectBrowserLocale:r}}function ca(){const a=e.ref(null),s=e.ref(!1),t=e.ref([]),o=(n,f,T)=>{if(!a.value){a.value=new Date,s.value=!0;return}const c=f.findIndex(u=>$(u.date,a.value));if(c===-1)return;let p=c,l=!0;switch(n.key){case"ArrowLeft":p=Math.max(0,c-1);break;case"ArrowRight":p=Math.min(f.length-1,c+1);break;case"ArrowUp":p=Math.max(0,c-7);break;case"ArrowDown":p=Math.min(f.length-1,c+7);break;case"Home":p=Math.floor(c/7)*7;break;case"End":const D=Math.floor(c/7);p=Math.min(f.length-1,(D+1)*7-1);break;case"PageUp":if(n.shiftKey){const M=new Date(a.value);M.setFullYear(M.getFullYear()-1),a.value=M,b(`移动到 ${E(M)}`);return}else{const M=new Date(a.value);M.setMonth(M.getMonth()-1),a.value=M,b(`移动到 ${E(M)}`);return}case"PageDown":if(n.shiftKey){const M=new Date(a.value);M.setFullYear(M.getFullYear()+1),a.value=M,b(`移动到 ${E(M)}`);return}else{const M=new Date(a.value);M.setMonth(M.getMonth()+1),a.value=M,b(`移动到 ${E(M)}`);return}case"Enter":case" ":T(a.value),b(`选择了 ${E(a.value)}`);break;case"Escape":a.value=null,s.value=!1,b("退出日期选择");break;default:l=!1}l&&(n.preventDefault(),s.value=!0,p!==c&&f[p]&&(a.value=new Date(f[p].date),b(`焦点移动到 ${E(a.value)}`)))},r=n=>{s.value||(a.value=new Date(n))},i=()=>{s.value||(a.value=null)},h=n=>{a.value=new Date(n),s.value=!1},k=n=>{const f=[];return f.push(E(n.date)),n.lunar.monthName&&n.lunar.dayName&&f.push(`农历${n.lunar.monthName}${n.lunar.dayName}`),n.isToday&&f.push("今天"),n.isSelected&&f.push("已选择"),n.isWeekend&&f.push("周末"),n.isHoliday&&f.push("节假日"),n.festival&&f.push(`节日：${n.festival}`),n.solarTerm&&f.push(`节气：${n.solarTerm}`),n.isDisabled&&f.push("不可选择"),f.join("，")},m=()=>({role:"grid","aria-label":"日历","aria-readonly":"false","aria-multiselectable":"false"}),v=n=>{const f=a.value&&$(n.date,a.value);return{role:"gridcell","aria-label":k(n),"aria-selected":n.isSelected?"true":"false","aria-disabled":n.isDisabled?"true":"false","aria-current":n.isToday?"date":void 0,tabindex:f?0:-1,"data-date":n.date.toISOString().split("T")[0]}},w=n=>({"aria-label":{prevYear:"上一年",nextYear:"下一年",prevMonth:"上个月",nextMonth:"下个月",today:"回到今天"}[n],type:"button"}),b=n=>{t.value.push(n),setTimeout(()=>{const f=t.value.indexOf(n);f>-1&&t.value.splice(f,1)},1e3)},C=(n,f)=>{b(`切换到 ${n}年${f}月`)},_=n=>{n.length===0?b("清除了所有选择"):n.length===1?b(`选择了 ${E(n[0])}`):b(`选择了 ${n.length} 个日期`)},j=(n,f)=>{const T=E(n),c=E(f);b(`选择了日期范围：从 ${T} 到 ${c}`)},E=n=>{const f=n.getFullYear(),T=n.getMonth()+1,c=n.getDate(),l=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][n.getDay()];return`${f}年${T}月${c}日 ${l}`},$=(n,f)=>n.getFullYear()===f.getFullYear()&&n.getMonth()===f.getMonth()&&n.getDate()===f.getDate(),z=n=>{a.value=new Date(n),s.value=!0,setTimeout(()=>{const f=n.toISOString().split("T")[0],T=document.querySelector(`[data-date="${f}"]`);T&&T.focus()},0)},g=()=>{a.value=null,s.value=!1},V=e.ref(!1),B=()=>{if(typeof window<"u"&&window.matchMedia){const n=window.matchMedia("(prefers-contrast: high)");V.value=n.matches;const f=T=>{V.value=T.matches};return n.addEventListener("change",f),()=>n.removeEventListener("change",f)}return()=>{}},R=e.ref(!1),I=()=>{if(typeof window<"u"&&window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion: reduce)");R.value=n.matches;const f=T=>{R.value=T.matches};return n.addEventListener("change",f),()=>n.removeEventListener("change",f)}return()=>{}};let y,Y;return e.onMounted(()=>{y=B(),Y=I()}),e.onUnmounted(()=>{y==null||y(),Y==null||Y()}),{focusedDate:a,isKeyboardNavigation:s,announcements:t,isHighContrast:V,prefersReducedMotion:R,handleKeyDown:o,handleMouseEnter:r,handleMouseLeave:i,handleClick:h,getDateAriaLabel:k,getCalendarGridProps:m,getDateCellProps:v,getNavigationButtonProps:w,announce:b,announceMonthChange:C,announceSelectionChange:_,announceRangeSelection:j,focusDate:z,clearFocus:g,formatDateForAnnouncement:E,isSameDay:$}}const we=a=>{a.component("VueLunarCalendar",re)},da={install:we,VueLunarCalendar:re},ua="2.0.0";L.CalendarCell=fe,L.EventItem=ge,L.IconComponent=wt,L.VueLunarCalendar=re,L.default=da,L.install=we,L.useAccessibility=ca,L.useCalendar=na,L.useEvents=la,L.useLocale=ia,L.useTheme=sa,L.version=ua,Object.defineProperties(L,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
